<!doctype html>
<html lang="en">

  <head>
<script>
  // GitHub Pages SPA fix: restores the original URL after 404.html redirect
  (function () {
    var params = new URLSearchParams(window.location.search);
    var p = params.get("p");
    var q = params.get("q");
    if (p !== null) {
      var base = "/CriaFX-Pro/";
      var newPath = base + decodeURIComponent(p);
      var newSearch = q ? "?" + decodeURIComponent(q) : "";
      window.history.replaceState(null, "", newPath + newSearch + window.location.hash);
    }
  })();
</script>

<script type="module">
  // Safe analytics loader for Vite: only injects Umami if env vars are defined at build time.
  const endpoint = import.meta.env.VITE_ANALYTICS_ENDPOINT;
  const websiteId = import.meta.env.VITE_ANALYTICS_WEBSITE_ID;
  if (endpoint && websiteId) {
    const s = document.createElement('script');
    s.async = true;
    s.defer = true;
    s.setAttribute('data-website-id', websiteId);
    s.src = `${endpoint.replace(/\/$/, '')}/umami.js`;
    document.head.appendChild(s);
  }
</script>


    <script>
      // GitHub Pages SPA fix: restores the original URL after 404.html redirect
      (function () {
        var params = new URLSearchParams(window.location.search);
        var p = params.get("p");
        var q = params.get("q");

        if (p !== null) {
          var base = "/CriaFX-Pro/";
          var newPath = base + decodeURIComponent(p);
          var newSearch = q ? "?" + decodeURIComponent(q) : "";

          window.history.replaceState(
            null,
            "",
            newPath + newSearch + window.location.hash
          );
        }
      })();
    </script>

    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>CriaFX Pro - Music Visualizer & Player</title>    

    <script>
      (function(l) {
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      }(window.location))
    </script>

    <!-- THIS IS THE START OF A COMMENT BLOCK, BLOCK TO BE DELETED: Google Fonts here, example:
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    THIS IS THE END OF A COMMENT BLOCK, BLOCK TO BE DELETED -->
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    </body>

</html>
